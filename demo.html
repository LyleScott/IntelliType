<!DOCTYPE html>
<html>
    <head>
        <title>AJAX test</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>

        <script>
            $(document).ready(function(){
                $("#userinput").bind('keyup', function() {
                    $.ajax({
                        url: 'http://localhost:8080',
                        data: {'userinput': $(this).val()},
                        datatype: 'jsonp',
                        jsonp: 'callback',
                        jsonpCallback: 'jsonpcallback',
                        success: function(data, textStatus, jqXHR) {
                            data = data.substring('jsonpcallback('.length, data.length); 
                            data = data.substring(0, data.length-1);
                            var json = $.parseJSON(data);

                            $('#results').html(json.results.join('<br>'));
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                        	if (console && console.log) {
                        	    console.log('jquery ajax error');
                        	    console.log('textStatus');
                        	    console.log(textStatus);
                        	    console.log('errorThrown');
                        	    console.log(errorThrown);
                        	}
                        }
                    });
                });
            });
        </script>
    </head>
<body>

<input type="text" id="userinput" />
<div id="results"></div>

</body>
</html>