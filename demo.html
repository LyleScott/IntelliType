<!DOCTYPE html>
<html>
    <head>
        <title>AJAX test</title>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>

        <script>
            $(document).ready(function(){
                $("#userinput").bind('keyup', function() {
                    $.ajax({
                        url: 'http://localhost:8080',
                        data: {'userinput': $(this).val()},
                        datatype: 'jsonp',
                        jsonp: 'callback',
                        jsonpCallback: 'jsonpcallback',
                        success: function(jsonp, status, jqXHR) {
                            console.log('success');
                            jsonp = jsonp.substring('jsonpcallback('.length, jsonp.length); 
                            jsonp = jsonp.substring(0, jsonp.length-1);
                            jsonp = $.parseJSON(jsonp);

                            $('#results').html(jsonp.results.join('<br>'));
                        },
                        error: function() {
                            console.log('error');
                        }
                    });
                });
            });
        </script>
    </head>
<body>

<input type="text" id="userinput" />
<div id="results"></div>

</body>
</html>
